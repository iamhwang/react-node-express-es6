{"version":3,"sources":["../../../src/database/connection/mariaDB.js"],"names":["pool","maria","createPool","mariaConfig","getConnection","callback","err","conn","code","console","error","log","module","exports"],"mappings":";;AAAA;;;;AACA;;;;;;AAEA,IAAMA,OAAOC,gBAAMC,UAAN,CAAiBC,uBAAjB,CAAb;;AAEA,SAASC,aAAT,CAAuBC,QAAvB,EAAiC;AAC/BL,OAAKI,aAAL,CAAmB,UAAUE,GAAV,EAAeC,IAAf,EAAqB;AACtC,QAAGD,GAAH,EAAQ;AACN,cAAQA,IAAIE,IAAZ;AACE,aAAK,0BAAL;AACEC,kBAAQC,KAAR,CAAc,eAAd;AACA;AACF,aAAK,oBAAL;AACED,kBAAQC,KAAR,CAAc,cAAd;AACA;AACF,aAAK,cAAL;AACED,kBAAQC,KAAR,CAAc,cAAd;AACA;AATJ;AAWD;;AAED,QAAG,CAACJ,GAAJ,EAAS;AACPG,cAAQE,GAAR,CAAY,UAAZ;AACAN,eAASC,GAAT,EAAcC,IAAd;AACD;AACF,GAnBD;AAoBD;;AAEDK,OAAOC,OAAP,GAAiBT,aAAjB","file":"mariaDB.js","sourcesContent":["import maria from 'mysql';\r\nimport mariaConfig from './mariaDBConfig';\r\n\r\nconst pool = maria.createPool(mariaConfig);\r\n\r\nfunction getConnection(callback) {\r\n  pool.getConnection(function (err, conn) {\r\n    if(err) {\r\n      switch (err.code) {\r\n        case \"PROTOCOL_CONNECTION_LOST\":\r\n          console.error(\"데이터베이스 연결 실패.\");\r\n          break;\r\n        case \"ER_CON_COUNT_ERROR\":\r\n          console.error(\"데이터베이스 접속 초과\");\r\n          break;\r\n        case \"ECONNREFUSED\":\r\n          console.error(\"데이터베이스 연결 거부\");\r\n          break;\r\n      }\r\n    }\r\n\r\n    if(!err) {\r\n      console.log('connect!');\r\n      callback(err, conn);\r\n    }\r\n  });\r\n}\r\n\r\nmodule.exports = getConnection;\r\n"]}