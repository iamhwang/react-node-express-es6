{"version":3,"sources":["../../../../src/api/memo/api/memoApi.js"],"names":["apiMemosGet","router","express","Router","req","res","_no","body","no","err","conn","query","sqlMemosGet","rows","console","error","data","statusCode","send","release"],"mappings":";;;;;QAQgBA,W,GAAAA,W;;AARhB;;;;AACA;;;;AACA;;;;AAEA;;;;AAEA,IAAMC,SAASC,kBAAQC,MAAR,EAAf;;AAEO,SAASH,WAAT,OAAmC;AAAA,MAAZI,GAAY,QAAZA,GAAY;AAAA,MAAPC,GAAO,QAAPA,GAAO;;AACxC,MAAIC,MAAMF,IAAIG,IAAJ,CAASC,EAAnB;;AAEA,yBAAc,UAACC,GAAD,EAAMC,IAAN,EAAe;AAC3BA,SAAKC,KAAL,CAAWC,oBAAX,EAAwB,CAACN,GAAD,CAAxB,EAA+B,UAACG,GAAD,EAAMI,IAAN,EAAe;AAC5C,UAAIJ,GAAJ,EAAS;AACPK,gBAAQC,KAAR,CAAcN,GAAd;AACA,cAAMA,GAAN;AACD;;AAED,UAAI,CAACA,GAAL,EAAU;AACR,YAAMO,OAAO,2BAAY;AACvBC,sBAAY,GADW;AAEvBD,gBAAMH;AAFiB,SAAZ,CAAb;;AAKA,eAAOR,IAAIa,IAAJ,CAASF,IAAT,CAAP;AACD;AACF,KAdD;;AAgBAN,SAAKS,OAAL;AACD,GAlBD;AAmBD","file":"memoApi.js","sourcesContent":["import express from 'express';\r\nimport getConnection from '../../../database/connection/mariaDB';\r\nimport apiResponse from '../../common/util/apiResponse';\r\n\r\nimport { sqlMemosGet } from '../sql/memoSql';\r\n\r\nconst router = express.Router();\r\n\r\nexport function apiMemosGet({ req, res }) {\r\n  var _no = req.body.no;\r\n \r\n  getConnection((err, conn) => {\r\n    conn.query(sqlMemosGet, [_no], (err, rows) => {\r\n      if (err) {\r\n        console.error(err);  \r\n        throw err;\r\n      }\r\n\r\n      if (!err) {\r\n        const data = apiResponse({\r\n          statusCode: 109,\r\n          data: rows,\r\n        });\r\n\r\n        return res.send(data);\r\n      }\r\n    });\r\n\r\n    conn.release();\r\n  });\r\n};\r\n"]}